<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Owner Dashboard | 4G's Services LLC.</title>
  <meta name="description" content="Owner dashboard for managing content." />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="index.html" aria-label="Go to home">
        <img class="brand-logo" src="assets/logo.png" alt="4G's Services LLC. Home Improvements" />
      </a>

      <button class="nav-toggle" type="button" aria-label="Open menu" aria-expanded="false" data-nav-toggle>
        <span></span><span></span><span></span>
      </button>

      <nav class="site-nav" data-nav>
        <a class="nav-link" href="index.html">Home</a>
        <a class="nav-link" href="projects.html">Projects</a>
        <a class="nav-link" href="gallery.html">Gallery</a>
        <a class="nav-link" href="services.html">Services</a>
        <a class="nav-link nav-cta" href="contact.html">Contact Us</a>
      </nav>
    </div>
  </header>

  <main id="main" class="page">
    <section class="page-hero">
      <div class="container">
        <h1>Owner Dashboard</h1>
        <p class="muted">Manage hero slider, gallery photos, and projects.</p>
      </div>
    </section>

    <!-- Login Card -->
    <section class="section" id="login-section">
      <div class="container">
        <div class="card" style="max-width: 420px; margin: 0 auto;">
          <h2 id="auth-title">Sign In</h2>
          <form id="login-form" class="owner-form">
            <div class="form-row">
              <label for="email">Email</label>
              <input id="email" type="email" required autocomplete="email" />
            </div>
            <div class="form-row">
              <label for="password">Password</label>
              <input id="password" type="password" required autocomplete="current-password" />
            </div>
            <div class="form-row" id="signup-passcode-row" style="display: none;">
              <label for="signup-passcode">Create Account Passcode</label>
              <input id="signup-passcode" type="password" placeholder="Enter passcode to create account" />
              <p class="small muted">Contact the site owner for the passcode.</p>
            </div>
            <button class="btn btn-primary" id="auth-submit-btn" type="submit">Sign In</button>
            <div class="auth-msg" id="auth-msg" role="status" aria-live="polite" style="margin-top: 8px;"></div>
            <div style="margin-top: 12px; display: flex; flex-direction: column; gap: 8px;">
              <a href="#" id="toggle-auth-mode" class="small muted" style="text-align: center; text-decoration: underline;">Don't have an account? Create one</a>
              <a href="#" id="forgot-password-link" class="small muted" style="text-align: center; text-decoration: underline; display: none;">Forgot password?</a>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Dashboard Content (hidden until authenticated) -->
    <div id="dashboard-content" style="display: none;">
      <section class="section">
        <div class="container">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2>Dashboard</h2>
            <button class="btn btn-secondary" id="logout-btn" type="button">Sign Out</button>
          </div>
        </div>
      </section>

      <!-- Section A: Home Slider Photos -->
      <section class="section">
        <div class="container">
          <div class="card">
            <h3>Home Slider Photos</h3>
            <p class="muted small">Upload exactly 5 images for the hero slider on the home page.</p>
            <div class="owner-grid" id="hero-slides-container">
              <!-- 5 slots will be generated by JS -->
            </div>
            <button class="btn btn-primary" id="save-hero-slides" type="button" style="margin-top: 16px;">Save All Slider Images</button>
            <p id="hero-slides-status" class="small muted" style="margin-top: 8px;"></p>
          </div>
        </div>
      </section>

      <!-- Section B: Gallery Photos -->
      <section class="section">
        <div class="container">
          <div class="card">
            <h3>Gallery Photos</h3>
            <p class="muted small">Upload multiple images to add to the gallery page.</p>
            <div class="form-row">
              <label for="gallery-upload">Select Images</label>
              <input id="gallery-upload" type="file" accept="image/*" multiple />
            </div>
            <div class="thumb-grid" id="gallery-preview" style="margin-top: 16px;"></div>
            <button class="btn btn-primary" id="save-gallery" type="button" style="margin-top: 16px;">Add to Gallery</button>
            <p id="gallery-status" class="small muted" style="margin-top: 8px;"></p>
          </div>
        </div>
      </section>

      <!-- Section C: Projects -->
      <section class="section">
        <div class="container">
          <div class="card">
            <h3>Add Project</h3>
            <form id="project-form" class="owner-form">
              <div class="form-row">
                <label for="project-name">Project Name *</label>
                <input id="project-name" type="text" required />
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <div class="form-row">
                  <label for="project-lat">Latitude *</label>
                  <input id="project-lat" type="number" step="any" min="-90" max="90" required />
                </div>
                <div class="form-row">
                  <label for="project-lng">Longitude *</label>
                  <input id="project-lng" type="number" step="any" min="-180" max="180" required />
                </div>
              </div>
              <div class="form-row">
                <label for="project-images">Project Images (1-6 images) *</label>
                <input id="project-images" type="file" accept="image/*" multiple required />
                <p class="small muted">Select 1 to 6 images for this project.</p>
              </div>
              <div class="thumb-grid" id="project-preview" style="margin-top: 12px;"></div>
              <button class="btn btn-primary" type="submit" style="margin-top: 16px;">Save Project</button>
              <p id="project-status" class="small muted" style="margin-top: 8px;"></p>
            </form>
          </div>
        </div>
      </section>

      <!-- Existing Projects List -->
      <section class="section">
        <div class="container">
          <div class="card">
            <h3>Existing Projects</h3>
            <div id="projects-list" class="owner-grid">
              <p class="muted">Loading projects...</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Edit Project Modal -->
      <div id="edit-project-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content card">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3>Edit Project</h3>
            <button class="btn btn-ghost" id="close-edit-modal" type="button" style="padding: 8px 12px;">✕</button>
          </div>
          <form id="edit-project-form" class="owner-form">
            <input type="hidden" id="edit-project-id" />
            <div class="form-row">
              <label for="edit-project-name">Project Name *</label>
              <input id="edit-project-name" type="text" required />
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
              <div class="form-row">
                <label for="edit-project-lat">Latitude *</label>
                <input id="edit-project-lat" type="number" step="any" min="-90" max="90" required />
              </div>
              <div class="form-row">
                <label for="edit-project-lng">Longitude *</label>
                <input id="edit-project-lng" type="number" step="any" min="-180" max="180" required />
              </div>
            </div>
            <div class="form-row">
              <label>Current Images</label>
              <div id="edit-project-images-grid" class="thumb-grid" style="margin-top: 8px;"></div>
              <p class="small muted" id="edit-images-count">0 images</p>
            </div>
            <div class="form-row">
              <label for="edit-project-add-images">Add More Images</label>
              <input id="edit-project-add-images" type="file" accept="image/*" multiple />
              <p class="small muted">You can add up to 6 images total.</p>
            </div>
            <div style="display: flex; gap: 12px; margin-top: 16px;">
              <button class="btn btn-primary" type="submit">Save Changes</button>
              <button class="btn btn-secondary" id="cancel-edit" type="button">Cancel</button>
            </div>
            <p id="edit-project-status" class="small muted" style="margin-top: 8px;"></p>
          </form>
        </div>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <a class="footer-logo-link" href="owners-dashboard.html" aria-label="Owner Dashboard">
        <img class="footer-logo" src="assets/logo.png" alt="" />
      </a>
      <div class="footer-text">
        <p>Built to help homeowners improve their space with dependable, professional craftsmanship.</p>
        <p class="muted">© <span id="year"></span> 4G's Services LLC.</p>
      </div>
    </div>
  </footer>

  <script type="module" src="owners-dashboard.js"></script>
  <script src="script.js"></script>
</body>
</html>
